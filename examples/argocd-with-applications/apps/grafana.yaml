"apiVersion": "argoproj.io/v1alpha1"
"kind": "Application"
"metadata":
  "name": "grafana"
  "namespace": "argocd"
"spec":
  "destination":
    "namespace": "monitoring"
    "server": "https://kubernetes.default.svc"
  "project": "default"
  "source":
    "chart": "grafana"
    "helm":
      "parameters":
      - "name": "adminPassword"
        "value": "KMS_ENC:AQICAHjqbwPgIOjYuD3KVy6WWY2OVxVq5n+5gRoU0jCVJgrvyAEXxhvJK3lqnYBZ/Ondb+k5AAAAbjBsBgkqhkiG9w0BBwagXzBdAgEAMFgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQM3BdeKZn/M/PRJCJeAgEQgCslaO0myfLjDF+Eh7UhuMZb6OROVN45zc8zYyTgx7sXKM5+TBXLM1FGhiOM:"
      - "name": "env.GF_AUTH_GOOGLE_ALLOWED_DOMAINS"
        "value": "local"
      - "name": "env.GF_AUTH_GOOGLE_CLIENT_ID"
        "value": ""
      - "name": "env.GF_AUTH_GOOGLE_CLIENT_SECRET"
        "value": ""
      - "name": "env.GF_AUTH_GOOGLE_ENABLED"
        "value": "false"
      - "name": "env.GF_SERVER_ROOT_URL"
        "value": "https://grafana.swiss-army.sak.ninja"
      - "name": "ingress.annotations"
        "value": "{ kubernetes.io/tls-acme: 'true' }"
      - "name": "ingress.enabled"
        "value": "true"
      - "name": "ingress.hosts[0]"
        "value": "grafana.swiss-army.sak.ninja"
      - "name": "ingress.ingressClassName"
        "value": "nginx"
      - "name": "ingress.tls[0].hosts[0]"
        "value": "grafana.swiss-army.sak.ninja"
      - "name": "ingress.tls[0].secretName"
        "value": "grafana-tls"
      - "name": "namespace"
        "value": "monitoring"
      - "name": "persistence.enabled"
        "value": "true"
      - "name": "persistence.size"
        "value": "10Gi"
      "values": |
        "dashboards":
          "default":
            "prometheus-stats":
              "datasource": "Prometheus"
              "gnetId": "2"
              "revision": "2"
        "datasources":
          - "access": "proxy"
            "isDefault": true
            "name": "Prometheus"
            "type": "Prometheus"
            "url": "http://kube-prometheus-prometheus:9090"
    "repoURL": "https://grafana.github.io/helm-charts"
    "targetRevision": "6.13.9"
  "syncPolicy":
    "automated":
      "prune": true
      "selfHeal": true
